{
    "info": {
        "name": "Foody API - Manual Testing Collection",
        "description": "**Comprehensive GraphQL API Collection for Manual Testing**\n\n## Overview\nComplete endpoint coverage for testing all Foody API features:\n- User authentication & authorization\n- Restaurant management & discovery\n- Menu item browsing & management  \n- Order creation & tracking\n- Payment processing & methods\n- User administration (admin only)\n\n## Quick Start\n1. **Login First**: Use Login endpoint with admin@foody.com / ChangeMe123!\n2. **Copy Token**: From response, save JWT to `{{auth_token}}`\n3. **Use Variables**: All subsequent requests use collection variables\n4. **Execute Sequentially**: Follow the folder order for proper workflow\n\n## Key Features\n‚úÖ Proper GraphQL variables - all requests use parameterized queries\n‚úÖ Collection variables defined - restaurantId, menuItemId, orderId, paymentMethodId\n‚úÖ Organized by feature folders (Authentication, Restaurants, Orders, etc.)\n‚úÖ Flexible variable setup - manual copy/paste from responses\n‚úÖ Built-in error handling and response validation\n‚úÖ No hardcoded test data - use provided examples as templates\n\n## Authentication & Tokens\n- Most endpoints require Bearer token authentication\n- Login/Register requests return token in response\n- Copy token from response to `{{auth_token}}` variable\n- All authenticated requests use: `Authorization: Bearer {{auth_token}}`\n- Token valid for 24 hours\n\n## Roles & Permissions Matrix\n\n| Role | View Restaurants | Create/Edit Items | Create Orders | Update Orders | Admin Functions |\n|------|------------------|-------------------|---------------|----------------|-----------------|\n| ADMIN | All locations | Yes | Yes | Yes | Yes |\n| MANAGER | Assigned location only | Assigned location only | Assigned location only | Assigned location only | No |\n| MEMBER | Assigned location only | No | No | No | No |\n\n## Testing Workflow (Recommended Order)\n1. **Auth**: Login to get token (copy to `{{auth_token}}`)\n2. **Restaurants**: Browse/create restaurants (copy IDs to variables)\n3. **Menu Items**: Browse/create menu items (copy IDs to variables)\n4. **Payment Methods**: Create payment method (copy ID to variable)\n5. **Orders**: Create order with items (copy ID to variable)\n6. **Payments**: Process payment for order (copy ID to variable)\n7. **Tracking**: Update order status and view results\n\n## Important Notes\n- **Members CANNOT Create Orders**: Only Admin/Manager can create orders\n- **Location Restrictions**: Managers and members operate within their assigned location\n- **Variables Are Essential**: Copy IDs from Create responses to use in subsequent operations\n- **GraphQL Variables**: All requests use proper GraphQL variables (not inline values)\n- **No Auto-Capture**: Manually copy values from responses to collection variables\n- **Production Use**: Update email/password before using in production\n\n## Test User Credentials\n```\nAdmin (Global): admin@foody.com / ChangeMe123!\nManager (Spice Garden - Bangalore): captain.marvel@foody.com / ChangeMe123!\nMember (Spice Garden - Bangalore): thanos@foody.com / ChangeMe123!\n```\n\n## Collection Variables\n- `{{baseUrl}}`: API base URL (default: http://localhost:4000)\n- `{{graphql}}`: GraphQL endpoint (default: {{baseUrl}}/graphql)\n- `{{auth_token}}`: JWT token (auto-set after login)\n- `{{restaurant_id}}`: Current restaurant ID (set after create/view)\n- `{{menu_item_id}}`: Current menu item ID (set after create/view)\n- `{{order_id}}`: Current order ID (set after create/view)\n- `{{payment_method_id}}`: Current payment method ID (set after create/view)\n- `{{user_id}}`: Current user ID (set after login)\n\n**Version:** 3.1.0  \n**Last Updated:** November 17, 2025  \n**Type:** Manual Testing Collection - Consistent & Variable-Based",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
        "_exporter_id": "foody-api-v2"
    },
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{auth_token}}",
                "type": "string"
            }
        ]
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:4000",
            "type": "string",
            "description": "Base URL for the API server"
        },
        {
            "key": "graphql",
            "value": "{{baseUrl}}/graphql",
            "type": "string",
            "description": "GraphQL endpoint URL"
        },
        {
            "key": "auth_token",
            "value": "",
            "type": "string",
            "description": "JWT authentication token (copy from Login/Register response)"
        },
        {
            "key": "user_id",
            "value": "",
            "type": "string",
            "description": "Current user ID (copy from Login/Register response)"
        },
        {
            "key": "restaurant_id",
            "value": "",
            "type": "string",
            "description": "Sample restaurant ID (copy from Create Restaurant or Get Restaurants response)"
        },
        {
            "key": "menu_item_id",
            "value": "",
            "type": "string",
            "description": "Sample menu item ID (copy from Create Menu Item or Get Menu Items response)"
        },
        {
            "key": "order_id",
            "value": "",
            "type": "string",
            "description": "Sample order ID (copy from Create Order or Get Orders response)"
        },
        {
            "key": "payment_method_id",
            "value": "",
            "type": "string",
            "description": "Sample payment method ID (copy from Create Payment Method response)"
        },
        {
            "key": "payment_id",
            "value": "",
            "type": "string",
            "description": "Sample payment ID (copy from Process Payment response)"
        }
    ],
    "item": [
        {
            "name": "01 - Authentication",
            "description": "## User Authentication & Session Management\n\n### Overview\nHandle user registration, login, and session management. All requests return JWT tokens for protected endpoint access.\n\n### Key Points\n- **Public Endpoints**: Register and Login require NO authentication\n- **Token in Response**: Token returned in response data\n- **Session Duration**: JWT tokens valid for 24 hours\n- **Manual Token Setup**: Copy token from response to `{{auth_token}}` variable\n\n### Test Users (Pre-seeded)\nUse these credentials if database is seeded:\n- **Admin (Global)**: admin@foody.com / ChangeMe123!\n- **Manager (Spice Garden)**: captain.marvel@foody.com / ChangeMe123!\n- **Member (Spice Garden)**: thanos@foody.com / ChangeMe123!\n\n### Workflow\n1. **Register** (optional): Create new test account\n   - Choose role and assign a location for managers/members\n   - Copy token from response\n2. **Login**: Authenticate with existing credentials\n   - Copy token from response to use in Authorization header\n   - Ready for protected endpoints\n3. **Me Query**: Verify authentication\n   - Confirms token validity\n   - Shows current user role and permissions\n\n### Response Handling\n- ‚úÖ Token returned in response.data.register.token or response.data.login.token\n- ‚úÖ Copy and save to `{{auth_token}}` variable for subsequent requests\n- ‚úÖ User ID in response.data.register.user.id or response.data.login.user.id\n\n### Error Scenarios\n- **Invalid Credentials**: Generic error (prevents user enumeration)\n- **Inactive Account**: User cannot login if deactivated\n- **Token Expired**: Use Login again to get new token",
            "item": [
                {
                    "name": "Register User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation Register($input: RegisterInput!) {\n  register(input: $input) {\n    token\n    user {\n      id\n      email\n      firstName\n      lastName\n      role\n      assignedLocation\n      isActive\n      createdAt\n      updatedAt\n    }\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"email\": \"user@example.com\",\n    \"password\": \"SecurePassword123!\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"role\": \"MEMBER\",\n    \"assignedLocation\": \"spice-garden-bangalore\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Register a new user account with email, password, and profile information.\n\n**Available Roles:**\n- ADMIN: Full system access (no location required)\n- MANAGER: Manage restaurants and orders in an assigned location\n- MEMBER: Read-only access within an assigned location\n\n**Location Assignment:**\n- Required for managers and members (example: spice-garden-bangalore)\n\n**Password Requirements:**\n- Minimum 8 characters\n- Must contain uppercase, lowercase, and numbers"
                    }
                },
                {
                    "name": "Login User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation Login($input: LoginInput!) {\n  login(input: $input) {\n    token\n    user {\n      id\n      email\n      firstName\n      lastName\n      role\n      assignedLocation\n      isActive\n      createdAt\n      updatedAt\n    }\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"email\": \"admin@foody.com\",\n    \"password\": \"ChangeMe123!\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Authenticate user and receive JWT token.\n\n**On Success:**\n- Token is automatically saved to environment/collection variables\n- Token is valid for 24 hours\n- Use token in Authorization header for protected endpoints\n\n**Error Cases:**\n- Invalid credentials: Returns generic error to prevent user enumeration\n- Inactive account: User cannot login if account is deactivated"
                    }
                },
                {
                    "name": "Get Current User (Me)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "description": "JWT token from login"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Me {\n  me {\n    id\n    email\n    firstName\n    lastName\n    role\n    assignedLocation\n    isActive\n    createdAt\n    updatedAt\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Retrieve currently authenticated user's profile information.\n\n**Authentication:** Required\n\n**Use Cases:**\n- Verify token validity\n- Get current user role and permissions\n- Display user profile information"
                    }
                }
            ]
        },
        {
            "name": "02 - Restaurants",
            "description": "## Restaurant Discovery & Management\n\n### Overview\nBrowse restaurants, view details with full menus, and manage restaurants (admin only).\n\n### Permissions\n| Operation | Admin | Manager | Member |\n|-----------|-------|---------|--------|\n| View (Filtered) | All restaurants | Assigned location only | Assigned location only |\n| Create | ‚úÖ | ‚ùå | ‚ùå |\n| Update | ‚úÖ | ‚ùå | ‚ùå |\n| Delete | ‚úÖ | ‚ùå | ‚ùå |\n\n### Location Filtering\n- **Admin**: See ALL restaurants globally\n- **Managers**: See ONLY restaurants in their assigned location\n- **Members**: See only restaurants in their assigned location\n\n### Workflow\n1. **List Restaurants**: Get paginated restaurant list\n   - Automatically filtered by user's assigned location (except admin)\n   - Uses `{{restaurant_id}}` variable for subsequent requests\n2. **View Details**: Get restaurant with full menu\n   - Shows all menu items and categories\n   - Required before creating menu items\n3. **Create** (Admin only): Add new restaurant\n   - Returned ID auto-saved to `{{restaurant_id}}`\n4. **Update** (Admin only): Modify restaurant details\n   - Partial updates supported\n5. **Delete** (Admin only): Remove restaurant\n   - Cascades to delete menu items\n\n### Important Notes\n- ‚ö†Ô∏è Managers cannot create restaurants\n- ‚ö†Ô∏è Members can only view restaurants\n- ‚ö†Ô∏è Delete cascades to all menu items\n- üí° Always get restaurant details before creating menu items",
            "item": [
                {
                    "name": "Get Restaurants",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Restaurants($location: String, $first: Int, $skip: Int) {\n  restaurants(location: $location, first: $first, skip: $skip) {\n    id\n    name\n    description\n    address\n    city\n    location\n    phone\n    email\n    isActive\n    menuCategories\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"location\": null,\n  \"first\": 10,\n  \"skip\": 0\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "List all restaurants with pagination and optional location filtering.\n\n**Location Filtering:**\n- Admin: Can view all restaurants\n- Managers/Members: Only see restaurants in their assigned location\n\n**Pagination:**\n- first: Number of items (default: 10)\n- skip: Number to skip (default: 0)"
                    }
                },
                {
                    "name": "Get Restaurant Details",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Restaurant($id: ID!) {\n  restaurant(id: $id) {\n    id\n    name\n    description\n    address\n    city\n    location\n    phone\n    email\n    isActive\n    menuItems {\n      id\n      name\n      description\n      price\n      isAvailable\n      category\n      imageUrl\n    }\n    menuCategories\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{restaurant_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get detailed information about a specific restaurant including its full menu.\n\n**Includes:**\n- Restaurant information and contact details\n- All available menu items\n- List of menu categories\n\n**Access Control:**\n- Users can only view restaurants in their assigned location (except admin)"
                    }
                },
                {
                    "name": "Create Restaurant (Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation CreateRestaurant($input: CreateRestaurantInput!) {\n  createRestaurant(input: $input) {\n    id\n    name\n    description\n    address\n    city\n    location\n    phone\n    email\n    isActive\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"name\": \"Restaurant Name\",\n    \"description\": \"Restaurant description here\",\n    \"address\": \"123 Main Street\",\n    \"city\": \"City Name\",\n    \"location\": \"spice-garden-bangalore\",\n    \"phone\": \"+91-9876543210\",\n    \"email\": \"restaurant@example.com\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Create a new restaurant in the system.\n\n**Permissions:** Admin only\n\n**Required Fields:**\n- name, address, city, location, phone, email\n\n**Location Guidance:**\n- Use location slugs that match manager/member assignments (example: spice-garden-bangalore)\n\n**Tip:** Copy the restaurant ID from response to use in `{{restaurant_id}}` for subsequent requests"
                    }
                },
                {
                    "name": "Update Restaurant (Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation UpdateRestaurant($id: ID!, $input: UpdateRestaurantInput!) {\n  updateRestaurant(id: $id, input: $input) {\n    id\n    name\n    description\n    isActive\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{restaurant_id}}\",\n  \"input\": {\n    \"description\": \"Updated description with new information\",\n    \"isActive\": true\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Update existing restaurant information.\n\n**Permissions:** Admin only\n\n**Updatable Fields:**\n- All restaurant fields are optional in update\n- Partial updates supported"
                    }
                },
                {
                    "name": "Delete Restaurant (Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation DeleteRestaurant($id: ID!) {\n  deleteRestaurant(id: $id)\n}",
                                "variables": "{\n  \"id\": \"{{restaurant_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Permanently delete a restaurant.\n\n**Permissions:** Admin only\n\n**Warning:** This action cannot be undone and will cascade delete related menu items."
                    }
                }
            ]
        },
        {
            "name": "03 - Menu Items",
            "description": "## Menu Item Discovery, Management & Categories\n\n### Overview\nBrowse menu items across restaurants, view detailed item information, discover food categories, and manage menu offerings (admin/manager only).\n\n### Permissions\n| Operation | Admin | Manager | Member |\n|-----------|-------|---------|--------|\n| View Items | All restaurants | Assigned location only | Assigned location only |\n| View Categories | All categories | All categories | All categories |\n| Create/Update/Delete | ‚úÖ | Assigned location only | ‚ùå |\n\n### Location Filtering\n- **Admin**: Can manage menu items for ALL restaurants globally\n- **Managers**: Can only manage menu items for restaurants in their assigned location\n- **Members**: Can only view menu items from restaurants in their assigned location\n\n### Workflow\n1. **Browse Menu Items**: Get paginated menu items with optional restaurant filtering\n   - Automatically filtered by user's assigned location (except admin)\n   - Shows only available items (isAvailable: true)\n2. **View Item Details**: Get complete menu item information\n   - Includes restaurant details and pricing\n3. **Explore Categories**: Discover available food categories\n   - Filter by restaurant or get all categories\n   - Useful for building category-based navigation\n4. **Create Items** (Manager/Admin): Add new menu items\n   - Must specify restaurant ID\n   - Returned ID saved to `{{menu_item_id}}`\n5. **Update Items** (Manager/Admin): Modify existing items\n   - Partial updates supported\n   - Location restrictions apply\n6. **Delete Items** (Manager/Admin): Remove menu items\n   - Permanent action\n   - Location restrictions apply\n\n### Important Notes\n- ‚ö†Ô∏è Managers cannot manage menu items outside their assigned location\n- ‚ö†Ô∏è Members can only view, not modify menu items\n- ‚ö†Ô∏è Menu items must belong to existing restaurants\n- üí° Always verify restaurant details before creating menu items\n- üí° Use categories for better menu organization and user experience\n- üìä Menu items include pricing, availability, and categorization",
            "item": [
                {
                    "name": "Get Menu Items",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query MenuItems($restaurantId: ID, $first: Int, $skip: Int) {\n  menuItems(restaurantId: $restaurantId, first: $first, skip: $skip) {\n    id\n    name\n    description\n    price\n    imageUrl\n    isAvailable\n    category\n    restaurant {\n      id\n      name\n      city\n      location\n    }\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"restaurantId\": null,\n  \"first\": 20,\n  \"skip\": 0\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "List available menu items with optional restaurant filtering.\n\n**Filtering:**\n- restaurantId: Filter by specific restaurant (optional)\n- Only shows available items (isAvailable: true)\n\n**Pagination:**\n- first: Items per page (default: 10)\n- skip: Items to skip (default: 0)"
                    }
                },
                {
                    "name": "Get Menu Item Details",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query MenuItem($id: ID!) {\n  menuItem(id: $id) {\n    id\n    name\n    description\n    price\n    imageUrl\n    isAvailable\n    category\n    restaurant {\n      id\n      name\n      address\n      city\n      location\n      phone\n    }\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{menu_item_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get comprehensive details about a specific menu item.\n\n**Includes:**\n- Complete menu item information (name, description, price)\n- Availability status and category\n- Associated restaurant details\n- Image URL and metadata\n\n**Access Control:**\n- Users can only view menu items from restaurants in their assigned location (except admin)"
                    }
                },
                {
                    "name": "Get Menu Categories",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query MenuCategories($restaurantId: ID) {\n  menuCategories(restaurantId: $restaurantId)\n}",
                                "variables": "{\n  \"restaurantId\": null\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get list of unique menu categories.\n\n**Filtering:**\n- restaurantId: Get categories for specific restaurant (optional)\n- If null, returns all categories across all restaurants\n\n**Use Cases:**\n- Build category filter UI\n- Discover food types available"
                    }
                },
                {
                    "name": "Create Menu Item (Manager/Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation CreateMenuItem($input: CreateMenuItemInput!) {\n  createMenuItem(input: $input) {\n    id\n    name\n    description\n    price\n    imageUrl\n    isAvailable\n    category\n    restaurant {\n      id\n      name\n    }\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"name\": \"Menu Item Name\",\n    \"description\": \"Item description here\",\n    \"price\": 10.00,\n    \"imageUrl\": \"https://example.com/image.jpg\",\n    \"category\": \"Category\",\n    \"restaurantId\": \"{{restaurant_id}}\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Create a new menu item for a restaurant.\n\n**Permissions:**\n- Admin: Can create for any restaurant\n- Manager India: Only for INDIA restaurants\n- Manager America: Only for AMERICA restaurants\n\n**Required Fields:**\n- name, description, price, category, restaurantId\n\n**Tip:** Copy the menu item ID from response to use in `{{menu_item_id}}` for subsequent requests"
                    }
                },
                {
                    "name": "Update Menu Item (Manager/Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation UpdateMenuItem($id: ID!, $input: UpdateMenuItemInput!) {\n  updateMenuItem(id: $id, input: $input) {\n    id\n    name\n    description\n    price\n    isAvailable\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{menu_item_id}}\",\n  \"input\": {\n    \"price\": 15.99,\n    \"isAvailable\": true\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Update existing menu item.\n\n**Permissions:** Same as create (location-restricted for managers)\n\n**Updatable Fields:**\n- All fields optional (partial updates supported)"
                    }
                },
                {
                    "name": "Delete Menu Item (Manager/Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation DeleteMenuItem($id: ID!) {\n  deleteMenuItem(id: $id)\n}",
                                "variables": "{\n  \"id\": \"{{menu_item_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Permanently delete a menu item.\n\n**Permissions:** Same as create (location-restricted for managers)\n\n**Warning:** This action cannot be undone."
                    }
                }
            ]
        },
        {
            "name": "04 - Payment Methods",
            "description": "## Payment Method Management & Security\n\n### Overview\nManage user payment methods for secure order processing. Users can save multiple payment options and set default methods for streamlined checkout.\n\n### Permissions\n| Operation | Admin | Manager | Member |\n|-----------|-------|---------|--------|\n| View Own Methods | ‚ùå | ‚ùå | ‚úÖ |\n| Create Methods | ‚ùå | ‚ùå | ‚úÖ |\n| Update Methods | ‚ùå | ‚ùå | ‚úÖ |\n| Delete Methods | ‚ùå | ‚ùå | ‚úÖ |\n| View All Methods | ‚úÖ (via payments) | ‚ùå | ‚ùå |\n\n### Security Model\n- **User Isolation**: Users can only access their own payment methods\n- **Token-Based**: Payment details are tokenized for security\n- **Provider Integration**: Supports Stripe, PayPal, and Razorpay\n- **Admin Oversight**: Admin can view payment methods through payment records\n\n### Workflow\n1. **List Payment Methods**: View saved payment options\n   - Shows all user's payment methods\n   - Indicates default method\n   - Ordered by creation date\n2. **View Method Details**: Get specific payment method information\n   - Includes masked card numbers (last 4 digits)\n   - Shows provider and type\n3. **Add Payment Method**: Save new payment option\n   - Requires payment provider token\n   - Can set as default automatically\n   - Returned ID saved to `{{payment_method_id}}`\n4. **Update Method**: Modify payment settings\n   - Currently supports default status only\n   - Setting default unsets other defaults\n5. **Remove Method**: Delete payment option\n   - Permanent action\n   - Cannot delete if used in pending orders\n\n### Important Notes\n- üîí Payment data is tokenized and never stored in plain text\n- üí≥ Supports credit cards, debit cards, and digital wallets\n- üåê Multiple payment providers supported (Stripe, PayPal, Razorpay)\n- ‚≠ê Only one default payment method allowed per user\n- ‚ö†Ô∏è Payment methods cannot be deleted if associated with active orders\n- üîë In production, tokens come from payment provider SDK integration",
            "item": [
                {
                    "name": "Get Payment Methods",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query PaymentMethods {\n  paymentMethods {\n    id\n    type\n    provider\n    last4\n    isDefault\n    createdAt\n    updatedAt\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get all payment methods for the current user.\n\n**Returns:**\n- User's saved payment methods\n- Ordered by creation date (newest first)"
                    }
                },
                {
                    "name": "Get Payment Method Details",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query PaymentMethod($id: ID!) {\n  paymentMethod(id: $id) {\n    id\n    type\n    provider\n    last4\n    isDefault\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{payment_method_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Retrieve detailed information about a specific payment method.\n\n**Includes:**\n- Payment method type and provider\n- Masked card number (last 4 digits)\n- Default status indicator\n- Creation and update timestamps\n\n**Access Control:** Users can only view their own payment methods"
                    }
                },
                {
                    "name": "Create Payment Method",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation CreatePaymentMethod($input: CreatePaymentMethodInput!) {\n  createPaymentMethod(input: $input) {\n    id\n    type\n    provider\n    last4\n    isDefault\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"type\": \"CREDIT_CARD\",\n    \"provider\": \"STRIPE\",\n    \"token\": \"tok_payment_token_here\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Add a new payment method for the current user.\n\n**Payment Types:**\n- CREDIT_CARD\n- DEBIT_CARD\n- DIGITAL_WALLET\n\n**Providers:**\n- STRIPE\n- PAYPAL\n- RAZORPAY\n\n**Note:** In production, token would come from payment provider SDK. Copy the payment method ID from response to use in `{{payment_method_id}}`"
                    }
                },
                {
                    "name": "Update Payment Method",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation UpdatePaymentMethod($id: ID!, $input: UpdatePaymentMethodInput!) {\n  updatePaymentMethod(id: $id, input: $input) {\n    id\n    type\n    provider\n    last4\n    isDefault\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{payment_method_id}}\",\n  \"input\": {\n    \"isDefault\": true\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Update payment method settings (currently only supports setting default).\n\n**Note:** Setting a method as default will unset all other defaults"
                    }
                },
                {
                    "name": "Delete Payment Method",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation DeletePaymentMethod($id: ID!) {\n  deletePaymentMethod(id: $id)\n}",
                                "variables": "{\n  \"id\": \"{{payment_method_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Remove a payment method.\n\n**Access:** User can only delete their own payment methods"
                    }
                }
            ]
        },
        {
            "name": "05 - Orders",
            "description": "## Order Lifecycle Management & Tracking\n\n### Overview\nComplete order management system with creation, status tracking, and administrative controls. Supports the full order lifecycle from placement to delivery.\n\n### Permissions\n| Operation | Admin | Manager | Member |\n|-----------|-------|---------|--------|\n| View Orders | All orders | Assigned location orders | Own orders only |\n| Create Orders | ‚úÖ | Assigned location only | ‚ùå |\n| Update Status | ‚úÖ | Assigned location only | ‚ùå |\n| Cancel Orders | ‚úÖ | Assigned location only | ‚ùå |\n\n### Order Status Flow\n```mermaid\nPENDING ‚Üí CONFIRMED ‚Üí PREPARING ‚Üí OUT_FOR_DELIVERY ‚Üí DELIVERED\n    ‚Üì\nCANCELLED\n```\n\n### Location Restrictions\n- **Admin**: Can manage ALL orders globally\n- **Managers**: Can only manage orders for restaurants in their assigned location\n- **Members**: Cannot create orders (read-only access to own orders)\n\n### Workflow\n1. **Browse Orders**: Get paginated order list\n   - Access control based on user role\n   - Includes order status and basic details\n2. **View Order Details**: Get complete order information\n   - Full item details, payment info, delivery address\n   - Order history and timestamps\n3. **Create Order** (Manager/Admin): Place new order\n   - Validates menu item availability\n   - Calculates total amount automatically\n   - Requires payment method\n   - Atomic transaction with rollback on failure\n   - Returned ID saved to `{{order_id}}`\n4. **Update Status** (Manager/Admin): Change order status\n   - Follows predefined status flow\n   - Location restrictions apply\n5. **Cancel Order** (Manager/Admin): Cancel existing order\n   - Sets status to CANCELLED\n   - May trigger refund processes\n\n### Important Notes\n- üö´ **Members CANNOT create orders** - Only Admin/Manager roles\n- üìç Location restrictions apply to all order operations\n- üí∞ Orders calculate totals automatically from menu item prices\n- üîÑ Order creation is atomic - all validations pass or transaction rolls back\n- ÔøΩ Delivery address and contact info required for all orders\n- ‚ö†Ô∏è Status updates must follow the defined flow\n- üí≥ Payment method required at order creation\n- üìä Orders include detailed itemization with quantities and notes",
            "item": [
                {
                    "name": "Get Orders",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Orders($first: Int, $skip: Int) {\n  orders(first: $first, skip: $skip) {\n    id\n    status\n    totalAmount\n    deliveryAddress\n    phone\n    specialInstructions\n    user {\n      id\n      email\n      firstName\n      lastName\n    }\n    items {\n      id\n      quantity\n      price\n      notes\n      menuItem {\n        id\n        name\n        category\n      }\n    }\n    payment {\n      id\n      amount\n      status\n      transactionId\n    }\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"first\": 10,\n  \"skip\": 0\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get paginated list of orders.\n\n**Access Control:**\n- Members: Only their own orders\n- Managers: Orders within their assigned location\n- Admin: All orders\n\n**Order Status:**\n- PENDING, CONFIRMED, PREPARING, OUT_FOR_DELIVERY, DELIVERED, CANCELLED"
                    }
                },
                {
                    "name": "Get Order Details",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Order($id: ID!) {\n  order(id: $id) {\n    id\n    status\n    totalAmount\n    deliveryAddress\n    phone\n    specialInstructions\n    user {\n      id\n      email\n      firstName\n      lastName\n      role\n    }\n    items {\n      id\n      quantity\n      price\n      notes\n      menuItem {\n        id\n        name\n        description\n        price\n        category\n        imageUrl\n      }\n    }\n    payment {\n      id\n      amount\n      status\n      method {\n        id\n        type\n        provider\n        last4\n      }\n      transactionId\n    }\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{order_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get detailed information about a specific order including all items and payment details.\n\n**Access Control:** Same as orders list query"
                    }
                },
                {
                    "name": "Create Order (Manager/Admin Only)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation CreateOrder($input: CreateOrderInput!) {\n  createOrder(input: $input) {\n    id\n    status\n    totalAmount\n    deliveryAddress\n    phone\n    specialInstructions\n    user {\n      id\n      email\n    }\n    items {\n      id\n      quantity\n      price\n      notes\n      menuItem {\n        id\n        name\n        price\n      }\n    }\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"items\": [\n      {\n        \"menuItemId\": \"{{menu_item_id}}\",\n        \"quantity\": 2,\n        \"notes\": \"Extra spicy, please\"\n      }\n    ],\n    \"deliveryAddress\": \"123 Main Street, Apartment 4B, Mumbai, Maharashtra 400001\",\n    \"phone\": \"+91-98765-43210\",\n    \"specialInstructions\": \"Please ring the doorbell twice and leave at the door\",\n    \"paymentMethodId\": \"{{payment_method_id}}\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Create a new order with menu items.\n\n**IMPORTANT:** Only Managers and Admin can create orders. Members CANNOT place orders.\n\n**Location Restrictions:**\n- Managers can only order from restaurants in their assigned location\n- Admin users have no location restriction\n\n**Process:**\n1. Validates all menu items are available\n2. Calculates total amount\n3. Verifies payment method\n4. Creates order atomically in transaction\n5. Returns order with calculated totals\n\n**Tip:** Copy the order ID from response to use in `{{order_id}}` for subsequent requests"
                    }
                },
                {
                    "name": "Update Order Status (Manager/Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation UpdateOrderStatus($id: ID!, $status: OrderStatus!) {\n  updateOrderStatus(id: $id, status: $status) {\n    id\n    status\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{order_id}}\",\n  \"status\": \"CONFIRMED\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Update the status of an order.\n\n**Permissions:** Manager (location-restricted) and Admin\n\n**Status Values:**\n- PENDING\n- CONFIRMED\n- PREPARING\n- OUT_FOR_DELIVERY\n- DELIVERED\n- CANCELLED\n\n**Typical Flow:**\nPENDING ‚Üí CONFIRMED ‚Üí PREPARING ‚Üí OUT_FOR_DELIVERY ‚Üí DELIVERED"
                    }
                },
                {
                    "name": "Cancel Order (Manager/Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation CancelOrder($id: ID!) {\n  cancelOrder(id: $id) {\n    id\n    status\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{order_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Cancel an existing order.\n\n**Permissions:** Manager (location-restricted) and Admin\n\n**Effect:** Sets order status to CANCELLED\n\n**Note:** Consider refund processing in production systems"
                    }
                }
            ]
        },
        {
            "name": "06 - Payments",
            "description": "## Payment Processing & Transaction Management\n\n### Overview\nHandle payment processing for orders with secure transaction handling, status tracking, and comprehensive payment records.\n\n### Permissions\n| Operation | Admin | Manager | Member |\n|-----------|-------|---------|--------|\n| View Own Payments | ‚ùå | ‚ùå | ‚úÖ |\n| Process Payments | ‚ùå | ‚ùå | ‚úÖ (own orders) |\n| View All Payments | ‚úÖ | ‚ùå | ‚ùå |\n| View Payment Details | Own payments | ‚ùå | Own payments |\n\n### Payment Flow\n```mermaid\nOrder Created ‚Üí Payment Method Selected ‚Üí Payment Processed ‚Üí Transaction Recorded\n```\n\n### Security & Integration\n- **Provider Integration**: Supports Stripe, PayPal, and Razorpay\n- **Token Security**: Payment methods use secure tokens\n- **Transaction Tracking**: Unique transaction IDs for all payments\n- **Audit Trail**: Complete payment history with timestamps\n\n### Workflow\n1. **View Payment History** (Admin): System-wide payment records\n   - Financial reporting and reconciliation\n   - Transaction auditing capabilities\n   - Includes payment methods and order details\n2. **View Payment Details**: Get specific payment information\n   - Complete transaction details\n   - Associated order and payment method\n   - Transaction status and timestamps\n3. **Process Payment**: Execute payment for order\n   - Validates order ownership and payment method\n   - Prevents duplicate payments\n   - Creates transaction record\n   - Returns payment details with transaction ID\n   - Payment ID saved to `{{payment_id}}`\n\n### Important Notes\n- üí∞ Payments are processed only for user's own orders\n- üîí Payment processing includes ownership validation\n- üö´ Duplicate payments prevented by order-payment relationship\n- üåê Supports multiple payment providers (Stripe, PayPal, Razorpay)\n- üìä Transaction IDs provided for payment reconciliation\n- ‚ö†Ô∏è Production integration requires webhook handling\n- üîÑ Async payment processing recommended for production\n- üí≥ Payment methods must be pre-created and owned by user\n- üìà Admin can view all payments for system oversight",
            "item": [
                {
                    "name": "Get Payments (Admin Only)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Payments {\n  payments {\n    id\n    amount\n    status\n    method {\n      id\n      type\n      provider\n      last4\n    }\n    order {\n      id\n      totalAmount\n      status\n    }\n    transactionId\n    createdAt\n    updatedAt\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get all payments in the system.\n\n**Permissions:** Admin only\n\n**Use Cases:**\n- Financial reporting\n- Transaction auditing\n- Payment reconciliation"
                    }
                },
                {
                    "name": "Get Payment Details",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Payment($id: ID!) {\n  payment(id: $id) {\n    id\n    amount\n    status\n    method {\n      id\n      type\n      provider\n      last4\n    }\n    order {\n      id\n      totalAmount\n      status\n      deliveryAddress\n      user {\n        id\n        email\n      }\n    }\n    transactionId\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{payment_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get comprehensive details about a specific payment transaction.\n\n**Includes:**\n- Payment amount and status\n- Associated payment method (masked)\n- Linked order information\n- Transaction ID for reconciliation\n- Complete audit trail with timestamps\n\n**Access Control:**\n- Users can view their own payments\n- Admin can view all payments in the system"
                    }
                },
                {
                    "name": "Process Payment",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation ProcessPayment($input: ProcessPaymentInput!) {\n  processPayment(input: $input) {\n    id\n    amount\n    status\n    method {\n      id\n      type\n      provider\n      last4\n    }\n    order {\n      id\n      totalAmount\n      status\n    }\n    transactionId\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"orderId\": \"{{order_id}}\",\n    \"paymentMethodId\": \"{{payment_method_id}}\",\n    \"amount\": 29.99\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Process payment for an order.\n\n**Requirements:**\n- Order must exist and belong to user\n- Payment method must exist and belong to user\n- Order must not already have a payment\n\n**Process:**\n1. Validates order and payment method ownership\n2. Checks for existing payment on order\n3. Processes payment (simulated in current version)\n4. Creates payment record with transaction ID\n5. Returns payment details\n\n**Production Notes:**\n- Integrate with real payment gateway (Stripe/PayPal/Razorpay)\n- Implement webhook handling for async updates\n- Add idempotency keys for retry safety\n\n**Tip:** Copy the payment ID from response to use in `{{payment_id}}` for subsequent requests"
                    }
                }
            ]
        },
        {
            "name": "07 - User Management (Admin)",
            "description": "## User Administration & System Management\n\n### Overview\nComprehensive user management system for administrators to oversee user accounts, roles, permissions, and system access controls.\n\n### Permissions\n| Operation | Admin | Manager | Member |\n|-----------|-------|---------|--------|\n| View All Users | ‚úÖ | ‚ùå | ‚ùå |\n| View User Details | ‚úÖ | ‚ùå | ‚ùå |\n| Update Users | ‚úÖ | ‚ùå | ‚ùå |\n| Delete Users | ‚úÖ | ‚ùå | ‚ùå |\n\n### User Roles & Access\n- **ADMIN**: Full system access, user management, global operations\n- **MANAGER**: Restaurant and order management within an assigned location\n- **MEMBER**: Read-only access within an assigned location\n\n### Location Assignment\n- **Scoped Access**: Managers and members must be tied to a specific location slug\n- **Access Control**: Location dictates which restaurants, menu items, and orders they can manage\n- **Admin Override**: Admin users have global access without restrictions\n\n### Workflow\n1. **List All Users**: Get paginated user directory\n   - Complete user list with roles and status\n   - Pagination for large user bases\n   - Filter and search capabilities\n2. **View User Details**: Get comprehensive user profile\n   - Profile information and account status\n   - Order history and payment methods\n   - Activity and access patterns\n3. **Update User**: Modify user attributes\n   - Change role assignments\n   - Update assigned locations\n   - Activate/deactivate accounts\n4. **Delete User**: Permanently remove user account\n   - Cascades to related data\n   - Requires careful consideration\n\n### Important Notes\n- üëë **Admin Only**: All user management operations require admin privileges\n- üìç Assigned locations control access scope for managers and members\n- üîÑ Role changes take effect immediately\n- ‚ö†Ô∏è User deletion is permanent and cascades to related data\n- üìä User details include order history and payment methods\n- üö´ Deactivation recommended over deletion for data retention\n- üîê Account status controls login access\n- üìà User management supports system scaling and access control",
            "item": [
                {
                    "name": "Get All Users",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query Users($first: Int, $skip: Int) {\n  users(first: $first, skip: $skip) {\n    id\n    email\n    firstName\n    lastName\n    role\n    assignedLocation\n    isActive\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"first\": 20,\n  \"skip\": 0\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "List all users in the system with pagination.\n\n**Permissions:** Admin only\n\n**Use Cases:**\n- User management dashboard\n- User analytics\n- Account status monitoring"
                    }
                },
                {
                    "name": "Get User Details",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query User($id: ID!) {\n  user(id: $id) {\n    id\n    email\n    firstName\n    lastName\n    role\n    assignedLocation\n    isActive\n    orders {\n      id\n      status\n      totalAmount\n      createdAt\n    }\n    paymentMethods {\n      id\n      type\n      provider\n      last4\n      isDefault\n    }\n    createdAt\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{user_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Get comprehensive profile and activity information for a specific user.\n\n**Includes:**\n- Complete user profile (name, email, role, assigned location)\n- Account status and activity flags\n- Recent order history (last orders)\n- Saved payment methods\n- Account creation and update timestamps\n\n**Permissions:** Admin only\n\n**Use Cases:**\n- Customer support investigations\n- Account verification\n- User behavior analysis"
                    }
                },
                {
                    "name": "Update User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation UpdateUser($id: ID!, $input: UpdateUserInput!) {\n  updateUser(id: $id, input: $input) {\n    id\n    email\n    role\n    assignedLocation\n    isActive\n    updatedAt\n  }\n}",
                                "variables": "{\n  \"id\": \"{{user_id}}\",\n  \"input\": {\n    \"role\": \"MANAGER\",\n    \"assignedLocation\": \"spice-garden-bangalore\",\n    \"isActive\": true\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Update user information.\n\n**Permissions:** Admin only\n\n**Updatable Fields:**\n- role: User's system role\n- assignedLocation: Location slug for managers/members\n- isActive: Account active status\n\n**Use Cases:**\n- Promote user to manager and set location\n- Deactivate user account\n- Adjust location assignments for staff"
                    }
                },
                {
                    "name": "Delete User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation DeleteUser($id: ID!) {\n  deleteUser(id: $id)\n}",
                                "variables": "{\n  \"id\": \"{{user_id}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "{{graphql}}",
                            "host": ["{{graphql}}"]
                        },
                        "description": "Permanently delete a user account.\n\n**Permissions:** Admin only\n\n**Warning:**\n- This action cannot be undone\n- Will cascade delete related data\n- Consider deactivating instead of deleting for data retention"
                    }
                }
            ]
        }
    ]
}
